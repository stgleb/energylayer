/*
 * MoonCake v1.1 - FileInput Plugin JS
 *
 * This file is part of MoonCake, an Admin template build for sale at ThemeForest.
 * For questions, suggestions or support request, please mail me at maimairel@yahoo.com
 *
 * Development Started:
 * July 28, 2012
 * Last Update:
 * October 10, 2012
 *
 * 'Highly configurable' mutable plugin boilerplate
 * Author: @markdalgleish
 * Further changes, comments: @addyosmani
 * Licensed under the MIT license
 *
 */

;(function(b,i,j,d){function g(a,b){arguments.length&&this._init(a,b)}g.prototype={defaults:{placeholder:"No file selected...",buttontext:"Browse...",inputSize:"large"},_init:function(a,c){this.element=b(a);this.options=b.extend({},this.defaults,c,this.element.data());this._build()},_build:function(){this.element.css({position:"absolute",top:0,right:0,margin:0,cursor:"pointer",fontSize:"99px",opacity:0,filter:"alpha(opacity=0)"}).on("change.fileupload",b.proxy(this._change,this));this.container=
b('<div class="fileinput-holder input-append"></div>').append(b('<div class="fileinput-preview uneditable-input" style="cursor: text; text-overflow: ellipsis; "></div>').addClass("input-"+this.options.inputSize).text(this.options.placeholder)).append(b('<span class="fileinput-btn btn" style="overflow: hidden; position: relative; cursor: pointer; "></span>').text(this.options.buttontext)).insertAfter(this.element);this.element.appendTo(this.container.find(".fileinput-btn"))},_change:function(a){(a=
a.target.files!==d?a.target.files[0]:{name:a.target.value.replace(/^.+\\/,"")})&&this.container.find(".fileinput-preview ").text(a.name)},option:function(a,c){if(0===arguments.length)return b.extend({},this.options);if("string"===typeof a){if(c===d)return this.options[a];switch(a){case "value":c=Math.max(0,Math.min(c,this.options.maxValue))}this.options[a]=c;this._draw()}return this}};b.fn.fileInput=function(a){var c="string"===typeof a,h=Array.prototype.slice.call(arguments,1),e=this;if(c&&"_"===
a.charAt(0))return e;c?this.each(function(){var c=b.data(this,"fileinput"),f=c&&b.isFunction(c[a])?c[a].apply(c,h):c;if(f!==c&&f!==d)return e=f,!1}):this.each(function(){b.data(this,"fileinput")||b.data(this,"fileinput",new g(this,a))});return e};b(function(){b('[data-provide="fileinput"]').each(function(){var a=b(this);a.fileInput(a.data())})})})(jQuery,window,document);